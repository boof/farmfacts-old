<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC
    "-//W3C//DTD XHTML 1.1 plus MathML 2.0 plus SVG 1.1//EN"
    "http://www.w3.org/2002/04/xhtml-math-svg/xhtml-math-svg.dtd">
<html xmlns:svg='http://www.w3.org/2000/svg' xml:lang='en' xmlns='http://www.w3.org/1999/xhtml'>
<head><meta content='application/xhtml+xml;charset=utf-8' http-equiv='Content-type' /><title></title><link href='style.css' rel='stylesheet' type='text/css' />
</head>
<body><!-- #### Changes in the development version (**not yet released**)  ####     {#last} -->
<h4 id='stable'>Changes in 0.5.6</h4>

<ul>
<li>
<p>News:</p>

<ul>
<li>Now Maruku is in the official Gentoo Portage tree (done by <a href='http://agorf.gr/'>Aggelos Orfanakos</a>)</li>
</ul>
</li>

<li>
<p>New stuff:</p>

<ul>
<li>Attribute <code>maruku_signature</code> defaults to false. (many people asked this)</li>

<li>unittests scripts are included in the distribution.</li>

<li>New attribute <code>filter_html</code>: if true, raw HTML/XML is discarded. (asked by Marik)</li>

<li>Command line: if output file is <code>-</code>, Maruku writes to stdout.</li>
</ul>
</li>

<li>
<p>Bug fixes:</p>

<ul>
<li>Another tiny bug in HTML parsing.</li>

<li>In latex, <code>\linebreak</code> was used instead of <code>\newline</code> (reported by Sam Kleinman)</li>

<li>Fixed bug with non-alpha numeric characters in ref.ids (reported by Aggelos Orfanakos)</li>
</ul>
</li>

<li>
<p>Pending bugs/feature requests:</p>

<ul>
<li>Maruku does not allow 3-space indented lists.</li>

<li>Lists item whose first character is UTF8 are not recognized (reported by Aggelos Orfanakos)</li>

<li>Maruku cannot output <code>&quot;</code>-delimited attributes, because <code>REXML</code> does not support it.</li>
</ul>
</li>
</ul>

<h4 id='changes_in_055'>Changes in 0.5.5</h4>

<ul>
<li>
<p>Features:</p>

<ul>
<li>
<p>Input of HTML numeric entities:</p>

<pre><code>Examples of numeric character references include &amp;#169; or &amp;#xA9; 
for the copyright symbol, &amp;#913; or &amp;#x391; for the Greek capital 
letter alpha, and &amp;#1575; or &amp;#x627; for the Arabic letter alef.</code></pre>

<blockquote>
<p>Examples of numeric character references include &#169; or &#169; for the copyright symbol, &#913; or &#913; for the Greek capital letter alpha, and &#1575; or &#1575; for the Arabic letter alef.</p>
</blockquote>
</li>
</ul>
</li>

<li>
<p>Bug fixes:</p>

<ul>
<li>
<p>Alt text was ignored for images.</p>
</li>

<li>
<p>Fixed minor bug in reading HTML inside paragraph.</p>
</li>

<li>
<p>Changed rules for block-level HTML to make it similar to Markdown.pl. For example:</p>

<pre><code>Paragraph
&lt;div&gt;&lt;/div&gt;</code></pre>

<p>will be translated to</p>

<pre><code>&lt;p&gt;Paragraph
&lt;div&gt;&lt;/div&gt;&lt;/p&gt;</code></pre>

<p>while this:</p>

<pre><code>Paragraph

&lt;div&gt;&lt;/div&gt;</code></pre>

<p>becomes</p>

<pre><code>&lt;p&gt;Paragraph&lt;/p&gt;

&lt;div&gt;&lt;/div&gt;</code></pre>
</li>
</ul>
</li>

<li>
<p><strong>Pending bugs</strong>: there are some problems when parsing lists. It is difficult to get it right because the spec is very fuzzy. At the moment, list items cannot be indented by more than 1 space.</p>
</li>
</ul>

<h4 id='changes_in_054'>Changes in 0.5.4</h4>

<ul>
<li>
<p>Features:</p>

<ul>
<li>
<p><a href='http://www.w3.org/TR/html4/index/attributes.html'>All HTML attributes</a> are supported.</p>

<pre><code>&gt;  Science is a wonderful thing if one does not
&gt;  have to earn one&#39;s living at it.
{: cite=&quot;http://en.wikiquote.org/wiki/Albert_Einstein&quot;}</code></pre>
</li>

<li>
<p>Attribute <code>doc_prefix</code>.</p>
</li>

<li>
<p>Math:</p>

<ul>
<li><code>\begin{equation}</code> and <code>\end{equation}</code> are understood.</li>

<li>Math parsing enabled per-instance using the <code>math_enabled</code> attribute.</li>

<li><code>math_numbered</code> attribute.</li>
</ul>
</li>
</ul>
</li>

<li>
<p>Bug fixes:</p>

<ul>
<li>Runs quietly with <code>ruby -w</code>.</li>

<li>Fixed a bug which could cause data-loss when reading indented lines.</li>
</ul>
</li>
</ul>

<h4 id='changes_in_053'>Changes in 0.5.3</h4>

<ul>
<li>
<p>Features:</p>

<ul>
<li>
<p><a href='http://www.w3.org/TR/html4/struct/tables.html#h-11.2.1'>All HTML <code>table</code> attributes</a> can be used (<code>summary</code>, <code>width</code>, <code>frame</code>, <code>rules</code>, <code>border</code>, <code>cellspacing</code>, <code>cellpadding</code>).</p>

<p>The next version will hopefully use all HTML attributes.</p>
</li>
</ul>
<!-- A version of Markdown that is more Japanese or something --></li>

<li>
<p>Bug fixes:</p>

<ul>
<li>
<p>Crash on this line: (found by Aggelos Orfanakos)</p>

<pre><code>[test][]:</code></pre>
</li>

<li>
<p>Regression with attribute system (found by Charles)</p>
</li>
</ul>
</li>
</ul>

<h4 id='changes_in_051'>Changes in 0.5.1</h4>

<ul>
<li>
<p>Bug fixes:</p>

<ul>
<li>
<p>Workaround for Internet Explorer bug: be very sure that <code>&amp;apos;</code> is always written as <code>&amp;#39;</code>.</p>
</li>

<li>
<p>Support for empty images ref: <code>![image]</code> and <code>![image][]</code>.</p>
</li>

<li>
<p>Fixed bug in parsing attribute lists definitions.</p>
</li>
</ul>
</li>

<li>
<p>Minor things:</p>

<ul>
<li>
<p>Now code blocks are written as a <code>&lt;code&gt;</code> element inside a <code>&lt;pre&gt;</code>, and <code>&lt;code&gt;</code> elements have both <code>class</code> and <code>lang</code> attributes set to the specified language.</p>

<p>Example:</p>

<pre><code class='markdown' lang='markdown'>    Example
{:lang=ruby}</code></pre>

<p>produces:</p>

<pre><code class='xml' lang='xml'><span class='punct'>&lt;</span><span class='tag'>pre</span><span class='punct'>&gt;&lt;</span><span class='tag'>code</span> <span class='attribute'>class</span><span class='punct'>=&#39;</span><span class='string'>ruby</span><span class='punct'>&#39;</span> <span class='attribute'>lang</span><span class='punct'>=&#39;</span><span class='string'>ruby</span><span class='punct'>&#39;&gt;</span>Example<span class='punct'>&lt;/</span><span class='tag'>code</span><span class='punct'>&gt;&lt;/</span><span class='tag'>pre</span><span class='punct'>&gt;</span></code></pre>
</li>
</ul>
</li>
</ul>

<h4 id='changes_in_050'>Changes in 0.5.0</h4>

<ul>
<li>
<p>Syntax changes:</p>

<ul>
<li>
<p>Compatibility with newest Markdown.pl: <code>[text]</code> as a synonim of <code>[text][]</code>.</p>
</li>

<li>
<p>Meta data: the first IAL in a span environment now refers to the parent. This makes it possible to set attributes for cells:</p>

<pre><code>Head           |  Head |
---------------+-------+--
{:r}  Hello    + ...

{:r: scope=&#39;row&#39;}</code></pre>

<p>The first cell will have the <code>scope</code> attribute set to <code>row</code>.</p>
</li>
</ul>
</li>

<li>
<p>New settings:</p>

<ul>
<li>Disable the Maruku signature by setting <code>maruku signature: false</code></li>
</ul>
</li>

<li>
<p>Stricter doctype. By the way &#8211; did I mention it? &#8211; <strong>Maruku HTML has always been proper validating XHTML strict</strong> (if a page does not validate, please report it as a bug).</p>

<p>Of course, this only matters when using <code>maruku</code> as a standalone program.</p>

<ul>
<li>I have updated the XHTML DTD used to support MathML: currently using XHTML+MathML+SVG.</li>

<li>Content-type set to <code>application/xhtml+xml</code></li>

<li>All entities are written as numeric entities.</li>
</ul>
</li>

<li>
<p>Bug fixes</p>

<ul>
<li>Many fixes in the code handling the sanitizing of inline HTML.</li>

<li><code>markdown=1</code> did not propagate to children.</li>

<li>LaTeX: An exception was raised if an unknown entity was used.</li>
</ul>
</li>
</ul>

<h4 id='changes_in_042'>Changes in 0.4.2</h4>

<ul>
<li>
<p>Adapted syntax to the <a href='http://maruku.rubyforge.org/proposal.html'>new meta-data proposal</a>.</p>
</li>

<li>
<p>Changes in LaTeX export:</p>

<ul>
<li>
<p>Links to external URLs are blue by default.</p>
</li>

<li>
<p>New attributes: <code>latex_preamble</code> to add a custom preamble, and <code>latex_cjk</code> to add packages for UTF-8 Japanese characters. (<strong>support for this is still shaky</strong>). Example:</p>

<pre><code>Title: my document
LaTeX CJK: true
LaTeX preamble: preamble.tex

Content</code></pre>
</li>
</ul>
</li>

<li>
<p>Bug fixes</p>

<ul>
<li>
<p>Images were not given <code>id</code> or <code>class</code> attributes.</p>
</li>

<li>
<p>Fixed bug in LaTeX export with handling of <code>&lt;</code>,<code>&gt;</code> enclosed URLs: <code>&lt;google.com&gt;</code>.</p>
</li>
</ul>
</li>
</ul>

<h4 id='changes_in_041_aka_typographer'>Changes in 0.4.1 aka &#8220;Typographer&#8221;</h4>

<ul>
<li>
<p>Implemented SmartyPants support:</p>

<pre><code>&#39;Twas a &quot;test&quot; to &#39;remember&#39; -- in the &#39;90s 
--- while I was &lt;&lt;ok&gt;&gt;. She was 6\&quot;12\&#39;.</code></pre>

<blockquote>
<p>&#8216;Twas a &#8220;test&#8221; to &#8216;remember&#8217; &#8211; in the &#8217;90s &#8212; while I was &#171;ok&#187;. She was 6&#34;12&#39;.</p>
</blockquote>

<p>I adapted the code from RubyPants.</p>
</li>

<li>
<p>Server directives between <code>&lt;? ?&gt;</code> are properly preserved.</p>
</li>

<li>
<p>Changes in LaTeX export:</p>

<ul>
<li>
<p>Now Japanese text rendering sort of works, using the following packages:</p>

<pre><code>\usepackage[C40]{fontenc}
\usepackage[cjkjis]{ucs}
\usepackage[utf8x]{inputenc}</code></pre>

<p>Nevertheless, I could only get bitmap fonts working &#8211; probably it&#8217;s a problem with my setup.</p>

<p>A quick test: 日本、中国、ひらがな、カタカナ。</p>
</li>

<li>
<p>Fixed bugs in rendering of immediate links.</p>
</li>

<li>
<p>External packages are <code>require</code>d only if needed.</p>
</li>

<li>
<p>More symbols supported. See the symbol list <a href='http://maruku.rubyforge.org/entity_test.html'>in HTML</a> and <a href='http://maruku.rubyforge.org/entity_test.pdf'>in PDF</a>.</p>
</li>
</ul>
</li>
</ul>

<h4 id='changes_in_04'>Changes in 0.4</h4>

<ul>
<li>First implementation of <a href='http://maruku.rubyforge.org/proposal.html'>the new meta-data syntax</a>.</li>

<li>General refactorization of the code and much cleaner error reporting.</li>

<li>Created <a href='http://maruku.rubyforge.org/rdoc/'>the RDOC documentation</a>.</li>

<li>The <code>add_whitespace</code> method took too much time &#8211; it was O(n^2).</li>

<li>Added unit-tests for block-level elements.</li>
</ul>

<h4 id='changes_in_03'>Changes in 0.3</h4>

<ul>
<li>
<p>A real parser is used instead of a regexp-based system, also for span-level elements.</p>

<p>Now Maruku is almost 2x faster than Bluecloth, while having more features.</p>

<p>Here are some benchmarks:</p>

<pre><code>BlueCloth (to_html): parsing 0.00 sec + rendering 1.54 sec = 1.55 sec 
Maruku (to_html):    parsing 0.47 sec + rendering 0.38 sec = 0.85 sec 
Maruku (to_latex):   parsing 0.49 sec + rendering 0.25 sec = 0.73 sec</code></pre>

<p>This is the result of running <code>lib/maruku/tests/benchmark.rb</code> on the Markdown specification.</p>
</li>

<li>
<p>Prettier HTML output by adding whitespace.</p>
</li>

<li>
<p>Added a full suite of unit-tests for the span-level parser.</p>
</li>

<li>
<p>Error management: Having a real parser, Maruku warns you about syntax issues.</p>

<p>The default action is to warn and try to continue. If you do this:</p>

<pre><code>Maruku.new(string, {:on_error =&gt; :raise})</code></pre>

<p>then syntax errors will cause an exception to be raised (you can catch this and retry).</p>
</li>

<li>
<p>Fixed a series of bugs in handling inline HTML code.</p>
</li>
</ul>

<p>Immediate TODO-list:</p>

<ul>
<li>
<p>UTF-8 input/output works OK for HTML, however I am having pain trying to export to LaTeX. I want at least Japanese characters support, so if you know how to do this you are very welcome to give me an hand.</p>

<p>For example: in the HTML version, you should see accented characters in this parenthesis:</p>

<blockquote>
<p>(àèìòù)</p>
</blockquote>

<p>and Japanese text in these other parentheses:</p>

<blockquote>
<p>(カタカナで 私の 名前は アンドレア チェンシ です).</p>

<p>(日本のガルは 大好き、でも、日本語は難しですから、そうぞ 英語話すガルを おしえてください).</p>
</blockquote>

<p>In the LaTeX version, these do not appear. I know how to do LaTeX with ISO-8859-1 encoding (European characters), but I&#8217;m struggling with half-baked solutions for UTF-8 encoded documents.</p>
</li>

<li>
<p>Implement the <a href='http://maruku.rubyforge.org/proposal.html'>new meta-data proposal</a>.</p>
</li>

<li>
<p>Exporting to Markdown (pretty printing).</p>
</li>

<li>
<p>Exporting to HTML splitting in multiple files.</p>
</li>

<li>
<p>RubyPants.</p>
</li>

<li>
<p>Support for images in PDF.</p>
</li>
</ul>
</body></html>
